<div *ngIf="loading" class="text-center">
    <h2>Loading...</h2>
</div>

<div *ngIf="!loading" class="row animate__animated animate__fadeIn mt-5">
    <div class="container col-md-6 text-center">
        <div class="card" style="width: 28rem;">
            <img [src]="imgPokemon | domSeguro" [alt]="nombrePokemon"
                class="card-img-top bg-primary img-fluid img-round animate__animated animate__jackInTheBox">
            <div class="card-body text-white bg-primary">
                <h1 class="card-title">Nombre: {{nombrePokemon}}</h1>
                <p class="h2">Tipo/s: {{tipos.join(', ')}}</p>
                <p class="h2">Nivel: {{nivel}}</p>
                <div class="d-grid gap-2 col-6 mx-auto text-center">
                    <button (click)="toggleEvolucion()" class="btn btn-success mb-4">Ver Descripción</button>
                    <button (click)="toggleEdicion()" class="btn btn-success mt-2">Editar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Tarjeta de Habilidades y Evoluciones -->
    <div *ngIf="mostrarEvolucion" class="col-md-6 mt-3">
        <div class="container card" style="width: 18rem;">
            <div class="card-body bg-success p-2 text-white bg-opacity-50">
                <h1 class="card-title">Descripción:</h1>
                <h3 class="card-text">{{descripcion}}</h3>
                <h1 class="card-title">Habilidades:</h1>
                <p class="card-text h3">{{habilidades.join(', ')}}</p>
                <h1 class="card-title">Especie:</h1>
                <h3 class="card-text">{{especie}}</h3>
                <h1 class="card-title">Evolución en:</h1>
                <h1 class="card-title"> {{base_experience}} </h1>
                <ul>
                    <li *ngFor="let evolucion of evoluciones">
                        {{ evolucion.name }} - Nivel: {{ evolucion.level }}
                    </li>
                </ul>
                <button (click)="toggleEvolucion()" class="d-grid gap-2 col-6 mx-auto text-center btn btn-danger mt-2">
                    Cerrar
                </button>
            </div>
        </div>
    </div>

    <!-- Tarjeta de Edición -->
    <div *ngIf="editar" class="col-md-6 mt-3">
        <div class="container card" style="width: 20rem;">
            <div class="card-body text-center text-black mx-auto bg-warning bg-opacity-50">
                <h3 class="card-title">Editar Pokémon</h3>
                <div>
                    <input [(ngModel)]="nuevoTipo" placeholder="Agregar Tipo" class="form-control">
                    <button (click)="agregarTipo()" class="btn btn-success mt-2">Agregar Tipo</button>
                </div>
                <ul>
                    <li *ngFor="let tipo of tipos">
                        {{ tipo }} <button (click)="eliminarTipo(tipo)" class="btn btn-danger btn-sm mt-2">Eliminar</button>
                    </li>
                </ul>
                <div>
                    <input [(ngModel)]="nuevaEvolucion" placeholder="Agregar Evolución" class="form-control mt-2">
                    <button (click)="agregarEvolucion()" class="btn btn-success mt-2">Agregar Evolución</button>
                </div>
                <h4>Evoluciones:</h4>
                <ul>
                    <li *ngFor="let evolucion of evoluciones">{{ evolucion.name }}</li>
                </ul>
                <button (click)="toggleEdicion()" class="btn btn-danger mt-2">Cerrar</button>
            </div>
        </div>
    </div>
</div>